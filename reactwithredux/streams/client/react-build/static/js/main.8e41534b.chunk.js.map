{"version":3,"sources":["apis/streams.js","history.js","actions/types.js","actions/index.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","SIGN_IN","SIGN_OUT","CREATE_STREAM","FETCH_STREAMS","FETCH_STREAM","DELETE_STREAM","EDIT_STREAM","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamForm","renderInput","formProps","className","meta","error","touched","label","input","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","connect","getState","userId","auth","post","history","push","StreamEdit","editStream","match","params","stream","console","log","initialValues","_","pick","state","ownProps","patch","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","config","streamTitle","streamDescription","actions","document","querySelector","StreamDelete","Fragment","deleteStream","to","renderConfig","renderActions","delete","StreamList","fetchStreams","currentUserId","map","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","Object","values","StreamShow","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INTIAL_STATE","combineReducers","action","mapKeys","omit","fromReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.8e41534b.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:3001\",\r\n});\r\n\r\n//npm start cd:streams/api\r\n","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();\r\n","export const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const CREATE_STREAM = \"CREATE_STREAM\";\r\nexport const FETCH_STREAMS = \"FETCH_STREAMS\";\r\nexport const FETCH_STREAM = \"FETCH_STREAM\";\r\nexport const DELETE_STREAM = \"DELETE_STREAM\";\r\nexport const EDIT_STREAM = \"EDIT_STREAM\";\r\n","import { formValues } from \"redux-form\";\r\nimport streams from \"../apis/streams\";\r\nimport history from \"../history\";\r\n\r\nimport {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  CREATE_STREAM,\r\n  FETCH_STREAM,\r\n  FETCH_STREAMS,\r\n  EDIT_STREAM,\r\n  DELETE_STREAM,\r\n} from \"./types\";\r\n\r\nexport const signIn = (userId) => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId,\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT,\r\n  };\r\n};\r\n\r\nexport const createStream = (formValues) => async (dispatch, getState) => {\r\n  const { userId } = getState().auth;\r\n  const response = await streams.post(\"/streams\", { ...formValues, userId });\r\n\r\n  dispatch({ type: CREATE_STREAM, payload: response.data });\r\n\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const fetchStreams = () => async (dispatch) => {\r\n  const response = await streams.get(\"/streams\");\r\n\r\n  dispatch({ type: FETCH_STREAMS, payload: response.data });\r\n};\r\n\r\nexport const fetchStream = (id) => async (dispatch) => {\r\n  const response = await streams.get(`/streams/${id}`);\r\n\r\n  dispatch({ type: FETCH_STREAM, payload: response.data });\r\n};\r\n\r\nexport const editStream = (id, formValues) => async (dispatch) => {\r\n  const response = await streams.patch(`/streams/${id}`, formValues);\r\n\r\n  dispatch({ type: EDIT_STREAM, payload: response.data });\r\n\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const deleteStream = (id) => async (dispatch) => {\r\n  await streams.delete(`/streams/${id}`);\r\n\r\n  dispatch({ type: DELETE_STREAM, payload: id });\r\n\r\n  history.push(\"/\");\r\n};\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\nclass StreamForm extends React.Component {\r\n  renderError({ error, touched }) {\r\n    if (touched && error) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderInput = (formProps) => {\r\n    const className = `field ${\r\n      formProps.meta.error && formProps.meta.touched ? \"error\" : \"\"\r\n    }`;\r\n    return (\r\n      <div className={className}>\r\n        <label>{formProps.label}</label>\r\n        <input {...formProps.input} autoComplete=\"off\" />\r\n        {this.renderError(formProps.meta)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"ui form error\"\r\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n      >\r\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\r\n        <Field\r\n          name=\"description\"\r\n          component={this.renderInput}\r\n          label=\"Enter Description\"\r\n        />\r\n        <button className=\"ui button primary\">Submit</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n\r\n  if (!formValues.title) {\r\n    errors.title = \"You must enter a title\";\r\n  }\r\n\r\n  if (!formValues.description) {\r\n    errors.description = \"You must enter a description\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"streamForm\",\r\n  validate,\r\n})(StreamForm);\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStream } from \"../../actions\";\nimport StreamForm from \"./StreamForm\";\n\nclass StreamCreate extends React.Component {\n  onSubmit = (formValues) => {\n    this.props.createStream(formValues);\n  };\n\n  render() {\n    return (\n      <div>\n        <h3>Create a Stream</h3>\n        <StreamForm onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { createStream })(StreamCreate);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchStream, editStream } from \"../../actions\";\nimport StreamForm from \"./StreamForm\";\nimport _ from \"lodash\";\n\nclass StreamEdit extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = (formValues) => {\n    this.props.editStream(this.props.match.params.id, formValues);\n  };\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n\n    console.log(this.props);\n    return (\n      <div>\n        <h3>Edit a Stream</h3>\n        <StreamForm\n          initialValues={_.pick(this.props.stream, \"title\", \"description\")}\n          onSubmit={this.onSubmit}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(mapStateToProps, { fetchStream, editStream })(\n  StreamEdit\n);\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Modal = (props) => {\r\n  return ReactDOM.createPortal(\r\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\r\n      <div\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"ui standard modal visible active\"\r\n      >\r\n        <div className=\"header\">{props.config.title}</div>\r\n        <div className=\" content\">\r\n          {props.config.description}\r\n          <br />\r\n          <br />\r\n          Title: {props.config.streamTitle}\r\n          <br />\r\n          Description: {props.config.streamDescription}\r\n        </div>\r\n        <div className=\"actions\">{props.actions}</div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#modal\")\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { fetchStream, deleteStream } from \"../../actions\";\nimport Modal from \"../Modal\";\nimport history from \"../../history\";\n\nclass StreamDelete extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  renderActions() {\n    return (\n      <React.Fragment>\n        <button\n          onClick={() => this.props.deleteStream(this.props.match.params.id)}\n          className=\"ui negative button\"\n        >\n          Delete\n        </button>\n        <Link to=\"/\" className=\"ui button\">\n          Cancel\n        </Link>\n      </React.Fragment>\n    );\n  }\n  renderConfig() {\n    if (!this.props.stream) {\n      return {\n        title: \"Delete Stream\",\n        description: \"Are you sure you want to delete this stream?\",\n      };\n    } else {\n      return {\n        title: \"Delete Stream\",\n        description: \"Are you sure you want to delete this stream?\",\n        streamTitle: this.props.stream.title,\n        streamDescription: this.props.stream.description,\n      };\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        config={this.renderConfig()}\n        actions={this.renderActions()}\n        onDismiss={() => history.push(\"/\")}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(mapStateToProps, { fetchStream, deleteStream })(\n  StreamDelete\n);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { fetchStreams } from \"../../actions\";\nimport streams from \"../../apis/streams\";\n\nclass StreamList extends React.Component {\n  componentDidMount() {\n    this.props.fetchStreams();\n  }\n\n  renderAdmin(stream) {\n    if (stream.userId === this.props.currentUserId) {\n      return (\n        <div className=\"right floated content\">\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\n            Edit\n          </Link>\n          <Link\n            to={`/streams/delete/${stream.id}`}\n            className=\"ui button negative\"\n          >\n            Delete\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  renderList() {\n    return this.props.streams.map((stream) => {\n      return (\n        <div className=\"item\" key={stream.id}>\n          {this.renderAdmin(stream)}\n          <i className=\"large middle aligned icon camera\" />\n          <div className=\"content\">\n            <Link to={`/streams/${stream.id}`} className=\"header\">\n              {stream.title}\n            </Link>\n\n            <div className=\"description\">{stream.description}</div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  renderCreate() {\n    if (this.props.isSignedIn) {\n      return (\n        <div style={{ textAlign: \"right\" }}>\n          <Link to=\"/streams/new\" className=\"ui button primary\">\n            Create Stream\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Streams</h2>\n        <div className=\"ui celled list\">{this.renderList()}</div>\n        {this.renderCreate()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    streams: Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn,\n  };\n};\n\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);\n","import React from \"react\";\nimport flv from \"flv.js\";\nimport { connect } from \"react-redux\";\nimport { fetchStream } from \"../../actions\";\n\nclass StreamShow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.videoRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n\n    this.buildPlayer();\n  }\n\n  componentDidUpdate() {\n    this.buildPlayer();\n  }\n\n  componentWillUnmount() {\n    this.player.destroy();\n  }\n\n  buildPlayer() {\n    if (this.player || !this.props.stream) {\n      return;\n    }\n\n    const { id } = this.props.match.params;\n    this.player = flv.createPlayer({\n      type: \"flv\",\n      url: `http://localhost:8000/live/${id}.flv`,\n    });\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n  }\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n\n    const { title, description } = this.props.stream;\n\n    return (\n      <div>\n        <video ref={this.videoRef} style={{ width: \"100%\" }} controls />\n        <h1>{title}</h1>\n        <h5>{description}</h5>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(mapStateToProps, { fetchStream })(StreamShow);\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions\";\r\n\r\nclass GoogleAuth extends React.Component {\r\n  componentDidMount() {\r\n    window.gapi.load(\"client:auth2\", () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId:\r\n            \"218720542046-umdo5ltpicue9b8lf27eha3542qlqvg5.apps.googleusercontent.com\",\r\n          scope: \"email\",\r\n        })\r\n        .then(() => {\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n        });\r\n    });\r\n  }\r\n\r\n  onAuthChange = (isSignedIn) => {\r\n    if (isSignedIn) {\r\n      this.props.signIn(this.auth.currentUser.get().getId());\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n\r\n  renderAuthButton() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n          Sign Out\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button onClick={this.onSignInClick} className=\"ui blue google button\">\r\n          <i className=\"google icon\" />\r\n          Sign In\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.renderAuthButton()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport GoogleAuth from \"./GoogleAuth\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"ui secondary pointing  menu\">\r\n      <Link to=\"/\" className=\"item\">\r\n        Streamy\r\n      </Link>\r\n      <div className=\"right menu\">\r\n        <Link to=\"/streams/new\" className=\"item\">\r\n          All Streams\r\n        </Link>\r\n        <GoogleAuth />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport StreamCreate from \"./streams/StreamCreate\";\nimport StreamEdit from \"./streams/StreamEdit\";\nimport StreamDelete from \"./streams/StreamDelete\";\nimport StreamList from \"./streams/StreamList\";\nimport StreamShow from \"./streams/StreamShow\";\nimport Header from \"./Header\";\nimport history from \"../history\";\n\nconst App = () => {\n  return (\n    <div>\n      <Router history={history}>\n        <div>\n          <Header />\n          <Switch>\n            <Route path=\"/\" exact component={StreamList} />\n            <Route path=\"/streams/new\" exact component={StreamCreate} />\n            <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n            <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n            <Route path=\"/streams/:id\" exact component={StreamShow} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null,\r\n};\r\n\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userId: action.payload };\r\n\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userId: null };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as fromReducer } from \"redux-form\";\r\n\r\nimport authReducer from \"./authReducer\";\r\nimport streamReducer from \"./streamReducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  streams: streamReducer,\r\n  form: fromReducer,\r\n});\r\n","import {\r\n  CREATE_STREAM,\r\n  FETCH_STREAM,\r\n  FETCH_STREAMS,\r\n  EDIT_STREAM,\r\n  DELETE_STREAM,\r\n} from \"../actions/types\";\r\nimport _ from \"lodash\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case FETCH_STREAMS:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case CREATE_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case EDIT_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case DELETE_STREAM:\r\n      return _.omit(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\n\nimport App from \"./components/App\";\nimport reducers from \"./reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}